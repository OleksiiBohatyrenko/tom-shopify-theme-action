<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>shopify-theme-actions</title>
	<meta name="description" content="Documentation for shopify-theme-actions">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">shopify-theme-actions</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>shopify-theme-actions</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#shopify-theme-actions" id="shopify-theme-actions" style="color: inherit; text-decoration: none;">
					<h1>Shopify Theme Actions</h1>
				</a>
				<p><img src="https://img.shields.io/github/license/matthew-petrie/shopify-theme-actions?style=plastic" alt="GitHub"></p>
				<p>A set of GitHub Actions to enable fast Shopify theme development/review workflows, options:</p>
				<ol>
					<li>Create &amp; deploy a PR specific preview theme when a PR is opened/updated</li>
					<li>Remove the PR specific preview theme once the PR is closed</li>
					<li>Deploy a specified theme when a PR is opened/updated</li>
					<li>Deploy to a specified Shopify theme once commits are pushed into a branch i.e. deploy to production</li>
				</ol>
				<p><img src="shopify-theme-actions-screenshot.jpg" alt="Shopify Theme Actions Deployment PR Comment"></p>
				<a href="#pr-comments" id="pr-comments" style="color: inherit; text-decoration: none;">
					<h4>PR Comments</h4>
				</a>
				<p>After any deployment, if <code>GITHUB_TOKEN</code> is set &amp; the deployment was triggered by a PR, a comment will be added to the PR with a link to view the Shopify theme preview (as above).</p>
				<a href="#get-started" id="get-started" style="color: inherit; text-decoration: none;">
					<h2>Get Started</h2>
				</a>
				<ul>
					<li>Create a <a href="https://help.shopify.com/en/manual/apps/private-apps#generate-credentials-from-the-shopify-admin">Shopify Private App</a> with the permissions <code>Themes: Read and write</code>.</li>
					<li>Add the Shopify Private App credentials as the Github secrets; <code>SHOPIFY_PASSWORD</code>, <code>SHOPIFY_API_KEY</code> and <code>SHOPIFY_STORE_URL</code> (i.e. <code>mystore.myshopify.com</code>)</li>
					<li>If you do not have the folders already create a <code>.github</code> folder with a <code>workflows</code> folder inside</li>
					<li>within this <code>./github/workflows/</code> folder add any of the below theme development/review workflows; When a:</li>
				</ul>
				<ol>
					<li><p><a href="./exampleWorkflows/createPullRequestSpecificPreview.yml">PR is opened/updated create and deploy a PR specific Shopify theme</a></p>
					</li>
					<li><p><a href="./exampleWorkflows/removePullRequestSpecificPreview.yml">PR is closed remove the previously created PR specific Shopify theme</a></p>
					</li>
					<li><p><a href="./exampleWorkflows/deployPullRequstToSpecificTheme.yml">PR is opened/updated deploy to a specified theme i.e. testing/staging theme</a></p>
					</li>
					<li><p><a href="./exampleWorkflows/deployToProduction.yml">commmit is pushed to the <code>main</code> branch deploy to production</a></p>
					</li>
				</ol>
				<a href="#requirements" id="requirements" style="color: inherit; text-decoration: none;">
					<h2>Requirements</h2>
				</a>
				<p>Requires a Shopify Private App to be created with the permissions: <code>Themes: Read and write</code></p>
				<a href="#inputs" id="inputs" style="color: inherit; text-decoration: none;">
					<h2>Inputs</h2>
				</a>
				<p>Github action inputs:</p>
				<p><strong><code>ACTION</code></strong> <em>required</em></p>
				<ol>
					<li><p><code>DEPLOYMENT_PREVIEW</code><br>Creates a new Shopify theme for each PR raised. If a PR specific theme already exists it will be updated (i.e. on a <code>git push</code> after the PR was created).</p>
					</li>
					<li><p><code>REMOVE_DEPLOYMENT_PREVIEW_THEME</code><br>Removes a previously created PR specific Shopify theme that was created when <code>ACTION</code> was set to <code>DEPLOYMENT_PREVIEW</code></p>
					</li>
					<li><p><code>DEPLOY</code><br>Deploys to the specified Shopify theme, useful for defined <code>testing</code>/<code>staging</code>/<code>production</code> themes. <code>SHOPIFY_THEME_ID</code> must be set.<br><em>If deploying to the live Shopify stores theme include the flag <code>allowLive=true</code> in <code>SHOPIFY_THEME_KIT_FLAGS</code>.</em></p>
					</li>
				</ol>
				<p><strong><code>SHOPIFY_STORE_URL</code></strong> <em>required</em><br>The shopify development store i.e. my-store.myshopify.com<br><em>Should be stored as a GitHub secret!</em></p>
				<p><strong><code>SHOPIFY_PASSWORD</code></strong> <em>required</em><br>The Shopify store&#39;s private app password used with themekit<br><em>Should be stored as a GitHub secret!</em></p>
				<p><strong><code>SHOPIFY_API_KEY</code></strong> <em>required</em><br>The Shopify store&#39;s private app API Key to allow theme creation and removal<br><em>Should be stored as a GitHub secret!</em></p>
				<p><strong><code>SHOPIFY_THEME_ID</code></strong> <em>optional</em><br>The Shopify theme that will be deployed to (only used if &#39;ACTION&#39; is &#39;DEPLOY&#39;)</p>
				<p><strong><code>SHOPIFY_THEME_KIT_FLAGS</code></strong> <em>optional</em><br>Shopify Theme Kit flags for theme deployment in camelCase rather than hyphenated (i.e. <code>ignored-file</code> is <code>ignoredFile</code>) in the format: FLAG=VALUE,FLAG=VALUE i.e. <code>dir=./dist,allowLive=true</code>.
				See available flags here:</p>
				<ul>
					<li><a href="https://shopify.dev/tools/theme-kit/configuration-reference#command-line-flags">Global Flags</a></li>
					<li><a href="https://shopify.dev/tools/theme-kit/command-reference#deploy">Deployment Specific Flags</a></li>
				</ul>
				<p><em>Note: Use the <code>Long version</code> of the flags rather than short versions i.e. <code>nodelete</code> instead of <code>n</code></em></p>
				<p><strong><code>GITHUB_TOKEN</code></strong> <em>optional</em><br>Github authentication token that allows comments to be created on PRs.<br><em>If not set comments cannot be created on PRs and previously created PR specific Shopify themes cannot be removed.</em></p>
				<a href="#outputs" id="outputs" style="color: inherit; text-decoration: none;">
					<h2>Outputs</h2>
				</a>
				<p>Github action outputs (can be used in following steps):</p>
				<p><strong><code>SHOPIFY_THEME_ID</code></strong><br>The newly created/found/supplied Shopify theme id</p>
				<p><strong><code>SHOPIFY_THEME_PREVIEW_URL</code></strong><br>The URL the theme can be previewed at</p>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p>Shopify Theme Actions is <a href="./LICENSE">MIT licensed</a>.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Modules</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_types_shopify_themekit.html">@types/shopify-<wbr>themekit</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/github.html">github</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/index.html">index</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/index_help.html">index.help</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/shopify.html">shopify</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>